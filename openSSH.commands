

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++++++++++++++++++++++    CREATE ROOT CERTIFICATE    ++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

generate [ca.key] and [ca.csr] command: 

	$ openssl req -newkey rsa:2048 -keyout ca.key -out ca.csr

sign [ca.crt] from [ca.csr] with [ca.key]:
	
	$ openssl x509 -signkey ca.key -in ca.csr -req -days 3650 -out ca.crt


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++++++++++++++++++++++    SING CERTIFICATE    +++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

sign [client.crt] from [client.csr] and [client.ext] with [ca.key] and [ca.crt] 

	$ openssl x509 -req -CA ca.crt -CAkey ca.key -in client.csr -out client.crt -days 3650 -CAcreateserial -extfile client.ext

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++++++++++++++++++++++   REMOVE PASS FOR KEY    +++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

remove password from [server.key] -> [server.unencrypted.key]

	$ openssl rsa -in server.key -out server.unencrypted.key -passin pass:this_is_server_key_password

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++  INSTALL CERTIFICATE IN CONTAINER  ++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

    ADD ca.crt /usr/local/share/ca-certificates/ca.crt
    RUN chmod 644 /usr/local/share/ca-certificates/ca.crt && update-ca-certificates



